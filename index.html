<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>IST ↔ EST Time Converter</title>
  <style>
    :root {
      --bg: #eef4ff;
      --card: #ffffff;
      --border: #d6e2ff;
      --text: #0f1c3f;
      --muted: #6b7a99;
      --accent: #3b82f6;
      --accent-light: #e3edff;
      --radius: 14px;
      --ist-accent: #06b6d4;
      --est-accent: #ef4444;
      --syd-accent: #06b64f;
      --ber-accent: #7c3aed
    }

    * {
      box-sizing: border-box
    }

    body {
      margin: 0;
      font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial;
      background: linear-gradient(180deg, #eef4ff 0%, #dae7ff 100%);
      color: var(--text);
      padding: 32px 18px
    }

    h1 {
      margin: 0 0 20px 0;
      font-size: 28px;
      font-weight: 700;
      color: #143370
    }

    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 24px;
      margin-bottom: 26px;
      box-shadow: 0 6px 18px rgba(30, 64, 175, 0.08)
    }

    h3 {
      margin-top: 0;
      font-size: 18px;
      color: #1e3a8a
    }

    .label {
      margin: 0 0 6px;
      font-size: 14px;
      color: var(--muted);
      display: inline-block;
      vertical-align: middle
    }

    select {
      padding: 10px 12px;
      border-radius: 8px;
      border: 1px solid var(--border);
      background: var(--accent-light);
      font-size: 15px
    }

    input[type="datetime-local"] {
      width: 100%;
      padding: 12px;
      border-radius: 10px;
      border: 1px solid var(--border);
      font-size: 15px;
      background: var(--accent-light);
      outline: none
    }

    input[type="datetime-local"]:focus {
      border-color: var(--accent);
      box-shadow: 0 0 6px rgba(59, 130, 246, 0.45);
      background: white
    }

    .prominent {
      display: flex;
      gap: 16px;
      align-items: flex-start;
      margin-top: 14px
    }

    .est-box {
      flex: 0 0 420px;
      min-width: 260px;
      background: linear-gradient(90deg, #fff2f2, #fff);
      border: 1px solid rgba(239, 68, 68, 0.12);
      padding: 18px 22px;
      border-radius: 12px;
      box-shadow: 0 8px 30px rgba(239, 68, 68, 0.06)
    }

    .est-box .label {
      color: #b91c1c;
      font-weight: 800;
      font-size: 14px
    }

    .est-box .big {
      font-size: 28px;
      font-weight: 900;
      color: #7f1d1d;
      margin-top: 8px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis
    }

    .prominent .others {
      display: flex;
      gap: 10px;
      flex-direction: column;
      flex: 1 1 auto
    }

    .zone-table {
      display: flex;
      flex-direction: column;
      gap: 6px
    }

    .zone-row {
      display: grid;
      grid-template-columns: 1fr auto;
      align-items: center;
      gap: 12px;
      padding: 12px 16px;
      border-radius: 10px;
      background: linear-gradient(180deg, #fff, var(--accent-light));
      border: 1px solid rgba(15, 23, 42, 0.03);
      box-shadow: 0 4px 12px rgba(2, 6, 23, 0.03)
    }

    .zone-row+.zone-row {
      margin-top: 4px
    }

    .zone-name {
      font-weight: 800;
      color: var(--text);
      font-size: 15px
    }

    .zone-value {
      font-weight: 700;
      color: #1e40af;
      font-size: 15px;
      text-align: right
    }

    .zone-table .zone-row:nth-child(even) {
      background: linear-gradient(180deg, #fbfdff, var(--accent-light))
    }

    .zone-row[data-zone="apac"] {
      border-left: 6px solid var(--syd-accent)
    }

    .zone-row[data-zone="emea"] {
      border-left: 6px solid var(--ber-accent)
    }

    .zone-row[data-zone="clar"] {
      border-left: 6px solid var(--est-accent)
    }

    .ctrls {
      display: none
    }

    .slide-anim {
      transition: none
    }

    .header-controls {
      display: flex;
      gap: 10px;
      align-items: center
    }

    .sort-btn {
      padding: 8px 10px;
      border-radius: 8px;
      border: 1px solid var(--border);
      background: linear-gradient(180deg, #fff, var(--accent-light));
      cursor: pointer
    }

    @media(max-width:900px) {
      .prominent {
        flex-direction: column
      }

      .est-box {
        flex: 0 0 auto;
        width: 100%;
        min-width: 0
      }

      .prominent .others {
        flex-direction: row;
        flex-wrap: wrap
      }
    }
  </style>
</head>

<body>
  <h1>IST ↔ EST Time Converter</h1>

  <div class="card">
    <h3>Live Time</h3>

    <div style="display:flex; gap:14px; align-items:center;">
      <div style="flex:0 0 420px; display:flex; gap:8px; align-items:center;">
        <div style="min-width:140px;">
          <label class="label">Select Region:</label>
          <select id="groupSelectLive" onchange="applyGroupLive()">
            <option value="all">All</option>
            <option value="apac">APAC</option>
            <option value="emea">EMEA</option>
            <option value="clar">CLAR</option>
          </select>
        </div>
        <div class="header-controls">
          <div>
            <label class="label">Apply Sorting:</label>
            <div>
              <button class="sort-btn" onclick="sortZones('liveTable', true)">A → Z (time asc)</button><br>
              <button class="sort-btn" onclick="sortZones('liveTable', false)">Z → A (time desc)</button>
            </div>
          </div>
        </div>
      </div>
      <div style="flex:1"></div>
    </div>

    <div class="prominent">
      <div class="est-box" id="liveEstBox">
        <div class="label">Primary Live — EST</div>
        <div id="liveEST" class="big">--</div>
        <div class="sub" style="margin-top:6px">America/New_York</div>
      </div>

      <div class="others" id="liveChips">
        <div class="zone-table" id="liveTable">

          <div class="zone-row" data-zone="all" data-key="IST" data-tz="Asia/Kolkata">
            <div class="zone-name">India</div>
            <div class="zone-value" id="liveIST">--</div>
          </div>
          <div class="zone-row" data-zone="emea" data-key="BER" data-tz="Europe/Berlin">
            <div class="zone-name">Belgium (Europe/Berlin)</div>
            <div class="zone-value" id="liveBER">--</div>
          </div>
          <div class="zone-row" data-zone="emea" data-key="AFR" data-tz="Africa/Johannesburg">
            <div class="zone-name">Africa (Africa/Johannesburg)</div>
            <div class="zone-value" id="liveAFR">--</div>
          </div>
          <div class="zone-row" data-zone="emea" data-key="FRA" data-tz="Europe/Berlin">
            <div class="zone-name">France (Europe/Berlin)</div>
            <div class="zone-value" id="liveFRA">--</div>
          </div>
          <div class="zone-row" data-zone="emea" data-key="DEU" data-tz="Europe/Berlin">
            <div class="zone-name">Germany (Europe/Berlin)</div>
            <div class="zone-value" id="liveDEU">--</div>
          </div>
          <div class="zone-row" data-zone="emea" data-key="BRA" data-tz="Brazil/East">
            <div class="zone-name">Brazil (Brazil/East)</div>
            <div class="zone-value" id="liveBRA">--</div>
          </div>
          <div class="zone-row" data-zone="clar" data-key="CAN" data-tz="America/Toronto">
            <div class="zone-name">Canada (America/Toronto)</div>
            <div class="zone-value" id="liveCAN">--</div>
          </div>
          <div class="zone-row" data-zone="clar" data-key="MEX" data-tz="America/Mexico_City">
            <div class="zone-name">Mexico (America/Mexico_City)</div>
            <div class="zone-value" id="liveMEX">--</div>
          </div>
          <div class="zone-row" data-zone="emea" data-key="NLD" data-tz="Europe/Berlin">
            <div class="zone-name">Netherland (Europe/Berlin)</div>
            <div class="zone-value" id="liveNLD">--</div>
          </div>
          <div class="zone-row" data-zone="emea" data-key="POL" data-tz="Europe/Warsaw">
            <div class="zone-name">Poland (Europe/Warsaw)</div>
            <div class="zone-value" id="livePOL">--</div>
          </div>
          <div class="zone-row" data-zone="emea" data-key="ESP" data-tz="Europe/Berlin">
            <div class="zone-name">Spain (Europe/Berlin)</div>
            <div class="zone-value" id="liveESP">--</div>
          </div>
          <div class="zone-row" data-zone="emea" data-key="CHE" data-tz="Europe/Berlin">
            <div class="zone-name">Switzerland (Europe/Berlin)</div>
            <div class="zone-value" id="liveCHE">--</div>
          </div>
          <div class="zone-row" data-zone="apac" data-key="THA" data-tz="Asia/Bangkok">
            <div class="zone-name">Thailand (Asia/Bangkok)</div>
            <div class="zone-value" id="liveTHA">--</div>
          </div>
          <div class="zone-row" data-zone="apac" data-key="JPN" data-tz="Japan">
            <div class="zone-name">Japan (Japan)</div>
            <div class="zone-value" id="liveJPN">--</div>
          </div>
          <div class="zone-row" data-zone="apac" data-key="SYD" data-tz="Australia/Sydney">
            <div class="zone-name">Australia (Australia/Sydney)</div>
            <div class="zone-value" id="liveSYD">--</div>
          </div>

        </div>
      </div>
    </div>
  </div>

  <div class="card">
    <h3>Convert IST → Other Zones</h3>
    <div class="label">Choose Date & Time (IST):</div>
    <input id="istInput" type="datetime-local" onchange="convertFromIST()" />

    <div style="display:flex; gap:14px; align-items:center; margin-top:8px;">
      <div style="min-width:200px;">
        <label class="label">Select Region:</label>
        <select id="groupSelectConv" onchange="applyGroupConv()">
          <option value="all">All</option>
          <option value="apac">APAC</option>
          <option value="emea">EMEA</option>
          <option value="clar">CLAR</option>
        </select>
      </div>
      <div class="header-controls" style="margin-left:12px;">
        <div>
          <label class="label">Apply Sorting:</label>
          <div>
            <button class="sort-btn" onclick="sortZones('convTable', true)">A → Z (time asc)</button><br>
            <button class="sort-btn" onclick="sortZones('convTable', false)">Z → A (time desc)</button>
          </div>
        </div>
      </div>
    </div>

    <div class="prominent">
      <div class="est-box" id="convEstBox">
        <div class="label">Primary — IST → EST</div>
        <div id="convertedEST" class="big">--</div>
        <div class="sub" style="margin-top:6px">America/New_York</div>
      </div>

      <div class="others" id="convertedChips">
        <div class="zone-table" id="convTable">

          <div class="zone-row" data-zone="all" data-key="IST" data-tz="Asia/Kolkata">
            <div class="zone-name">India</div>
            <div class="zone-value" id="convertedIST">--</div>
          </div>
          <div class="zone-row" data-zone="emea" data-key="BER" data-tz="Europe/Berlin">
            <div class="zone-name">Belgium (Europe/Berlin)</div>
            <div class="zone-value" id="convertedBER">--</div>
          </div>
          <div class="zone-row" data-zone="emea" data-key="AFR" data-tz="Africa/Johannesburg">
            <div class="zone-name">Africa (Africa/Johannesburg)</div>
            <div class="zone-value" id="convertedAFR">--</div>
          </div>
          <div class="zone-row" data-zone="emea" data-key="FRA" data-tz="Europe/Berlin">
            <div class="zone-name">France (Europe/Berlin)</div>
            <div class="zone-value" id="convertedFRA">--</div>
          </div>
          <div class="zone-row" data-zone="emea" data-key="DEU" data-tz="Europe/Berlin">
            <div class="zone-name">Germany (Europe/Berlin)</div>
            <div class="zone-value" id="convertedDEU">--</div>
          </div>
          <div class="zone-row" data-zone="emea" data-key="BRA" data-tz="Brazil/East">
            <div class="zone-name">Brazil (Brazil/East)</div>
            <div class="zone-value" id="convertedBRA">--</div>
          </div>
          <div class="zone-row" data-zone="clar" data-key="CAN" data-tz="America/Toronto">
            <div class="zone-name">Canada (America/Toronto)</div>
            <div class="zone-value" id="convertedCAN">--</div>
          </div>
          <div class="zone-row" data-zone="clar" data-key="MEX" data-tz="America/Mexico_City">
            <div class="zone-name">Mexico (America/Mexico_City)</div>
            <div class="zone-value" id="convertedMEX">--</div>
          </div>
          <div class="zone-row" data-zone="emea" data-key="NLD" data-tz="Europe/Berlin">
            <div class="zone-name">Netherland (Europe/Berlin)</div>
            <div class="zone-value" id="convertedNLD">--</div>
          </div>
          <div class="zone-row" data-zone="emea" data-key="POL" data-tz="Europe/Warsaw">
            <div class="zone-name">Poland (Europe/Warsaw)</div>
            <div class="zone-value" id="convertedPOL">--</div>
          </div>
          <div class="zone-row" data-zone="emea" data-key="ESP" data-tz="Europe/Berlin">
            <div class="zone-name">Spain (Europe/Berlin)</div>
            <div class="zone-value" id="convertedESP">--</div>
          </div>
          <div class="zone-row" data-zone="emea" data-key="CHE" data-tz="Europe/Berlin">
            <div class="zone-name">Switzerland (Europe/Berlin)</div>
            <div class="zone-value" id="convertedCHE">--</div>
          </div>
          <div class="zone-row" data-zone="apac" data-key="THA" data-tz="Asia/Bangkok">
            <div class="zone-name">Thailand (Asia/Bangkok)</div>
            <div class="zone-value" id="convertedTHA">--</div>
          </div>
          <div class="zone-row" data-zone="apac" data-key="JPN" data-tz="Japan">
            <div class="zone-name">Japan (Japan)</div>
            <div class="zone-value" id="convertedJPN">--</div>
          </div>
          <div class="zone-row" data-zone="apac" data-key="SYD" data-tz="Australia/Sydney">
            <div class="zone-name">Australia (Australia/Sydney)</div>
            <div class="zone-value" id="convertedSYD">--</div>
          </div>

        </div>
      </div>
    </div>

    <div style="margin-top:12px; color:var(--muted); font-size:13px">Note: choose a group to filter which secondary
      zones are visible. Use the sort buttons to order the Live table or pick a date to auto-sort Converted table.</div>
  </div>

  <script>
    // Groups mapping
    const GROUPS = { all: ['all', 'apac', 'emea', 'clar'], apac: ['apac'], emea: ['emea'], clar: ['clar'] };

    // Formatter to DD/MM/YYYY hh:mm:ss am/pm in given timezone
    function fmtForZone(dateObj, timeZone) {
      const opts = { year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: true, timeZone };
      return dateObj.toLocaleString('en-GB', opts);
    }

    function buildDateFromISTInput(val) {
      const parts = val.split('T'); if (parts.length !== 2) return null;
      const [y, m, d] = parts[0].split('-').map(Number);
      const [hh, mm] = parts[1].split(':').map(Number);
      if ([y, m, d, hh, mm].some(v => Number.isNaN(v))) return null;
      const localUtcMillis = Date.UTC(y, m - 1, d, hh, mm, 0);
      const istOffsetMs = 5.5 * 3600 * 1000; // IST = UTC+5:30
      const utcMillis = localUtcMillis - istOffsetMs;
      return new Date(utcMillis);
    }

    // helper: numeric key for timezone at an instant (YYYYMMDDHHMMSS)
    function zoneKeyForInstant(instant, tz) {
      const fmt = new Intl.DateTimeFormat('en-GB', { timeZone: tz, year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false });
      const parts = fmt.formatToParts(instant);
      const map = {}; parts.forEach(p => { if (p.type !== 'literal') map[p.type] = p.value; });
      return Number(map.year + map.month + map.day + map.hour + map.minute + map.second);
    }

    // sort rows in a table by timezone local time at a reference instant
    function sortZones(tableId, asc = true, referenceInstant = null) {
      const table = document.getElementById(tableId); if (!table) return;
      const rows = Array.from(table.querySelectorAll('.zone-row'));
      const instant = referenceInstant || new Date();
      const decorated = rows.map(r => ({ r, key: zoneKeyForInstant(instant, r.getAttribute('data-tz') || 'UTC') }));
      decorated.sort((a, b) => asc ? a.key - b.key : b.key - a.key);
      decorated.forEach(d => table.appendChild(d.r));
    }

    function updateLiveClock() {
      const now = new Date();
      const map = { liveEST: 'America/New_York', liveIST: 'Asia/Kolkata', liveSYD: 'Australia/Sydney', liveBER: 'Europe/Berlin', liveAFR: 'Africa/Johannesburg', liveBRA: 'Brazil/East', liveCAN: 'America/Toronto', liveFRA: 'Europe/Berlin', liveDEU: 'Europe/Berlin', liveJPN: 'Japan', liveMEX: 'America/Mexico_City', liveNLD: 'Europe/Berlin', livePOL: 'Europe/Warsaw', liveESP: 'Europe/Berlin', liveCHE: 'Europe/Berlin', liveTHA: 'Asia/Bangkok' };
      Object.keys(map).forEach(id => { const el = document.getElementById(id); if (el) el.innerText = fmtForZone(now, map[id]); });
    }

    setInterval(updateLiveClock, 1000);
    updateLiveClock();

    function convertFromIST() {
      const val = document.getElementById('istInput').value;
      const keys = ['convertedEST', 'convertedSYD', 'convertedIST', 'convertedBER', 'convertedAFR', 'convertedBRA', 'convertedCAN', 'convertedFRA', 'convertedDEU', 'convertedJPN', 'convertedMEX', 'convertedNLD', 'convertedPOL', 'convertedESP', 'convertedCHE', 'convertedTHA'];
      if (!val) { keys.forEach(k => { const e = document.getElementById(k); if (e) e.innerText = '--'; }); return; }
      const istDateObj = buildDateFromISTInput(val);
      if (!istDateObj || isNaN(istDateObj.getTime())) { keys.forEach(k => { const e = document.getElementById(k); if (e) e.innerText = 'Invalid Date'; }); return; }

      const convMap = { convertedEST: 'America/New_York', convertedSYD: 'Australia/Sydney', convertedIST: 'Asia/Kolkata', convertedBER: 'Europe/Berlin', convertedAFR: 'Africa/Johannesburg', convertedBRA: 'Brazil/East', convertedCAN: 'America/Toronto', convertedFRA: 'Europe/Berlin', convertedDEU: 'Europe/Berlin', convertedJPN: 'Japan', convertedMEX: 'America/Mexico_City', convertedNLD: 'Europe/Berlin', convertedPOL: 'Europe/Warsaw', convertedESP: 'Europe/Berlin', convertedCHE: 'Europe/Berlin', convertedTHA: 'Asia/Bangkok' };
      Object.keys(convMap).forEach(id => { const el = document.getElementById(id); if (el) el.innerText = fmtForZone(istDateObj, convMap[id]); });

      // auto-sort converted table ascending by the converted local times for that IST instant
      sortZones('convTable', true, istDateObj);
    }

    function applyGroupLive() { const sel = document.getElementById('groupSelectLive').value; const allowed = GROUPS[sel] || GROUPS.all; document.querySelectorAll('#liveTable .zone-row').forEach(el => { el.style.display = allowed.includes(el.getAttribute('data-zone') || 'all') ? '' : 'none'; }); }
    function applyGroupConv() { const sel = document.getElementById('groupSelectConv').value; const allowed = GROUPS[sel] || GROUPS.all; document.querySelectorAll('#convTable .zone-row').forEach(el => { el.style.display = allowed.includes(el.getAttribute('data-zone') || 'all') ? '' : 'none'; }); }

    // initialize
    applyGroupLive(); applyGroupConv();
  </script>
</body>

</html>
